<!doctype html>
<html lang="ru">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>Ğ£Ğ´Ğ¼ÑƒÑ€Ñ‚ ĞºÑ‹Ğ» â€” Ğ½Ğ°Ğ¹Ğ´Ğ¸ ÑĞ»Ğ¾Ğ²Ğ¾</title>
    <link
      href="https://fonts.googleapis.com/css2?family=Unbounded:wght@400;700&family=Noto+Serif:ital,wght@0,400;0,600;1,400&display=swap"
      rel="stylesheet"
    />
    <style>
      :root {
        --bg: #1a0f0a;
        --panel: #2b1a12;
        --border: #8b4c2a;
        --accent: #e8a246;
        --accent2: #c0392b;
        --text: #f0dfc0;
        --dim: #a08060;
        --cell-bg: #231408;
        --cell-hover: #3a2010;
        --cell-size: 52px;
        --found-colors: #c0392b, #27ae60, #2980b9, #8e44ad, #d35400, #16a085;
      }

      * {
        box-sizing: border-box;
        margin: 0;
        padding: 0;
      }

      body {
        background: var(--bg);
        color: var(--text);
        font-family: "Noto Serif", serif;
        min-height: 100vh;
        display: flex;
        flex-direction: column;
        align-items: center;
        padding: 16px;
        overflow-x: hidden;
      }

      h1 {
        font-family: "Unbounded", sans-serif;
        font-size: 1.3rem;
        letter-spacing: 0.08em;
        color: var(--accent);
        text-align: center;
        margin-bottom: 4px;
      }

      .subtitle {
        color: var(--dim);
        font-size: 0.85rem;
        text-align: center;
        margin-bottom: 14px;
        letter-spacing: 0.05em;
      }

      .game-area {
        display: flex;
        gap: 20px;
        align-items: flex-start;
        width: 100%;
        max-width: 900px;
      }

      .grid-wrapper {
        flex-shrink: 0;
      }

      .ornament {
        text-align: center;
        color: var(--border);
        font-size: 1.1rem;
        letter-spacing: 4px;
        margin-bottom: 6px;
        user-select: none;
      }

      #grid {
        display: grid;
        grid-template-columns: repeat(10, var(--cell-size));
        grid-template-rows: repeat(10, var(--cell-size));
        border: 2px solid var(--border);
        background: var(--border);
        gap: 1px;
        user-select: none;
      }

      .cell {
        width: var(--cell-size);
        height: var(--cell-size);
        background: var(--cell-bg);
        display: flex;
        align-items: center;
        justify-content: center;
        font-size: 1.35rem;
        font-family: "Noto Serif", serif;
        font-weight: 600;
        cursor: pointer;
        color: var(--text);
        transition:
          background 0.12s,
          color 0.12s,
          transform 0.08s;
        position: relative;
      }

      .cell:hover {
        background: var(--cell-hover);
      }

      .cell.selected-first {
        color: #1a0f0a;
        background: #e8a246;
        transform: scale(1.08);
        z-index: 2;
      }

      .cell.highlighted {
        color: #1a0f0a;
        background: #e8c870;
      }

      .cell.found {
        color: #fff;
        font-weight: 700;
      }

      /* sidebar */
      .sidebar {
        flex: 1;
        min-width: 180px;
      }

      .sidebar-title {
        font-family: "Unbounded", sans-serif;
        font-size: 0.75rem;
        color: var(--accent);
        letter-spacing: 0.1em;
        text-transform: uppercase;
        margin-bottom: 10px;
        border-bottom: 1px solid var(--border);
        padding-bottom: 6px;
      }

      .found-list {
        display: flex;
        flex-direction: column;
        gap: 6px;
      }

      .found-word {
        display: flex;
        align-items: center;
        gap: 10px;
        padding: 6px 10px;
        border-radius: 4px;
        animation: popIn 0.3s ease;
        font-size: 1rem;
      }

      .found-word .udmurt {
        font-weight: 700;
        font-size: 1.1rem;
      }

      .found-word .arrow {
        color: var(--dim);
        font-style: normal;
      }

      .found-word .russian {
        color: var(--text);
        font-style: italic;
      }

      @keyframes popIn {
        from {
          transform: translateX(-10px);
          opacity: 0;
        }
        to {
          transform: translateX(0);
          opacity: 1;
        }
      }

      /* progress */
      .progress-bar-wrap {
        margin-top: 14px;
        background: var(--panel);
        border: 1px solid var(--border);
        border-radius: 4px;
        height: 8px;
        overflow: hidden;
      }

      .progress-bar {
        height: 100%;
        background: var(--accent);
        width: 0%;
        transition: width 0.5s ease;
      }

      .progress-text {
        font-size: 0.8rem;
        color: var(--dim);
        margin-top: 4px;
        text-align: right;
      }

      .hint {
        font-size: 0.8rem;
        color: var(--dim);
        margin-top: 12px;
        line-height: 1.5;
      }

      .hint strong {
        color: var(--accent);
      }

      .win-banner {
        display: none;
        text-align: center;
        margin-top: 16px;
        padding: 12px 20px;
        background: linear-gradient(135deg, #27ae60, #1a8a4a);
        border-radius: 8px;
        font-family: "Unbounded", sans-serif;
        font-size: 1rem;
        color: #fff;
        animation: popIn 0.5s ease;
      }

      #restart-btn {
        display: block;
        margin: 12px auto 0;
        padding: 8px 20px;
        background: var(--accent);
        color: var(--bg);
        border: none;
        border-radius: 4px;
        font-family: "Unbounded", sans-serif;
        font-size: 0.75rem;
        letter-spacing: 0.08em;
        cursor: pointer;
        transition: background 0.15s;
      }
      #restart-btn:hover {
        background: #f0b860;
      }

      .no-match-shake {
        animation: shake 0.35s ease;
      }
      @keyframes shake {
        0%,
        100% {
          transform: translateX(0);
        }
        20% {
          transform: translateX(-4px);
        }
        60% {
          transform: translateX(4px);
        }
      }

      .footer-link {
        position: fixed;
        bottom: 12px;
        right: 12px;
        z-index: 10;
        font-size: 0.75rem;
        color: var(--dim);
        text-decoration: none;
      }

      .footer-link:hover {
        color: var(--accent);
        text-decoration: underline;
      }
    </style>
  </head>
  <body>
    <h1>Ğ£Ğ”ĞœĞ£Ğ Ğ¢ ĞšĞ«Ğ›</h1>
    <p class="subtitle">Ğ½Ğ°Ğ¹Ğ´Ğ¸ ÑƒĞ´Ğ¼ÑƒÑ€Ñ‚ÑĞºĞ¸Ğµ ÑĞ»Ğ¾Ğ²Ğ° Ğ² ÑĞµÑ‚ĞºĞµ</p>

    <div class="game-area">
      <div class="grid-wrapper">
        <div class="ornament">âœ¦ âœ¦ âœ¦ âœ¦ âœ¦ âœ¦ âœ¦ âœ¦ âœ¦ âœ¦</div>
        <div id="grid"></div>
        <div class="ornament">âœ¦ âœ¦ âœ¦ âœ¦ âœ¦ âœ¦ âœ¦ âœ¦ âœ¦ âœ¦</div>
        <button id="restart-btn">â†º Ğ½Ğ¾Ğ²Ğ°Ñ Ğ¸Ğ³Ñ€Ğ°</button>
      </div>

      <div class="sidebar">
        <div class="sidebar-title">Ğ½Ğ°Ğ¹Ğ´ĞµĞ½Ğ½Ñ‹Ğµ ÑĞ»Ğ¾Ğ²Ğ°</div>
        <div class="found-list" id="found-list"></div>
        <div class="progress-bar-wrap">
          <div class="progress-bar" id="progress-bar"></div>
        </div>
        <div class="progress-text" id="progress-text">0 / 0</div>
        <div class="win-banner" id="win-banner">
          ğŸ‰ Ğ£Ğ¼Ğ¾Ğ¹! Ğ’ÑĞµ ÑĞ»Ğ¾Ğ²Ğ° Ğ½Ğ°Ğ¹Ğ´ĞµĞ½Ñ‹!
        </div>
        <div class="hint">
          <strong>ĞšĞ°Ğº Ğ¸Ğ³Ñ€Ğ°Ñ‚ÑŒ:</strong><br />
          ĞšĞ»Ğ¸ĞºĞ½Ğ¸ Ğ½Ğ° Ğ¿ĞµÑ€Ğ²ÑƒÑ Ğ±ÑƒĞºĞ²Ñƒ ÑĞ»Ğ¾Ğ²Ğ° â€” Ğ¾Ğ½Ğ° ÑÑ‚Ğ°Ğ½ĞµÑ‚ Ğ¶Ñ‘Ğ»Ñ‚Ğ¾Ğ¹.<br />
          Ğ—Ğ°Ñ‚ĞµĞ¼ ĞºĞ»Ğ¸ĞºĞ½Ğ¸ Ğ½Ğ° Ğ¿Ğ¾ÑĞ»ĞµĞ´Ğ½ÑÑ Ğ±ÑƒĞºĞ²Ñƒ.<br />
          Ğ¡Ğ»Ğ¾Ğ²Ğ° Ğ¸Ğ´ÑƒÑ‚ Ğ³Ğ¾Ñ€Ğ¸Ğ·Ğ¾Ğ½Ñ‚Ğ°Ğ»ÑŒĞ½Ğ¾ Ğ¸ Ğ²ĞµÑ€Ñ‚Ğ¸ĞºĞ°Ğ»ÑŒĞ½Ğ¾ (Ğ² Ğ¾Ğ±Ğµ ÑÑ‚Ğ¾Ñ€Ğ¾Ğ½Ñ‹).
        </div>
      </div>
    </div>

    <script>
      // â”€â”€ ÑĞ»Ğ¾Ğ²Ğ°Ñ€ÑŒ (ÑƒĞ´Ğ¼ÑƒÑ€Ñ‚ â†’ Ñ€ÑƒÑÑĞºĞ¸Ğ¹) â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€
      const DICT = {
        Ğ¼Ğ¾Ğ½: "Ñ",
        Ğ½Ñ‹Ğ»: "Ğ´Ğ¾Ñ‡ÑŒ",
        Ğ¿Ğ¸: "ÑÑ‹Ğ½",
        ÓŸÑƒÑ‡: "Ñ€ÑƒÑÑĞºĞ¸Ğ¹",
        ÓÑƒĞº: "ĞºĞ°ÑˆĞ°",
        Ğ±Ğ¸Ğ³ĞµÑ€: "Ñ‚Ğ°Ñ‚Ğ°Ñ€Ğ¸Ğ½",
        ĞºĞ¾ÓµĞ¾: "ÑĞ¾Ñ€Ğ¾ĞºĞ°",
        Ó§Ñ: "Ğ´Ğ²ĞµÑ€ÑŒ",
        ÓŸĞ¾Ğ·: "ĞºÑƒĞ·Ğ½ĞµÑ‡Ğ¸Ğº",
        Ó§Ğ²Ó§Ğ»: "Ğ½ĞµÑ‚",
        ÑƒĞ¼Ğ¾Ğ¹: "Ñ…Ğ¾Ñ€Ğ¾ÑˆĞ¾",
        ÓŸĞµĞ³: "Ñ€Ğ¾Ğ¶ÑŒ",
        Ñ‚Ğ¾Ğ½: "Ñ‚Ñ‹",
        ÑĞ¾: "Ğ¾Ğ½",
        ÑÑ€Ğ°Ñ‚Ğ¾Ğ½: "Ğ»ÑĞ±Ğ¾Ğ²ÑŒ",
        Ğ¼Ğ¸: "Ğ¼Ñ‹",
        ĞºĞ¾ÓµÑ‹Ñˆ: "ĞºĞ¾ÑˆĞºĞ°",
        Ñ‚Ó¥: "Ğ²Ñ‹",
        ÓµÓ§Ğ¶: "ÑƒÑ‚ĞºĞ°",
        ÓÓ§Ğº: "ÑÑ‚Ğ¾Ğ»",
        Ğ¿Ó§Ğ·ÑŒ: "Ğ²Ğ°Ñ€ĞµĞ¶ĞºĞ°",
        Ğ¿ÑƒĞ½Ñ‹: "ÑĞ¾Ğ±Ğ°ĞºĞ°",
        Ğ²Ñƒ: "Ğ²Ğ¾Ğ´Ğ°",
        ÑĞ¸Ğ½: "Ğ³Ğ»Ğ°Ğ·",
        Ğ½Ñ‹Ñ€: "Ğ½Ğ¾Ñ",
        Ñ‚ÑƒĞ·Ğ¾Ğ½: "Ğ¿Ñ‹Ğ»ÑŒ",
        ÑĞ¾Ğ¾Ñ: "Ğ¾Ğ½Ğ¸",
        ĞºĞ¾Ñ‚Ñ‹Ñ€ĞµÑ‚: "ĞºÑ€ÑƒĞ³",
        Ñ‡Ğ¾Ğ½Ğ°Ñ€Ğ¸: "Ğ¿Ğ°ÑƒĞº",
        ĞºÑ‹ÑˆĞµÑ‚: "Ğ¿Ğ»Ğ°Ñ‚Ğ¾Ğº",
      };

      const UDMURT_FILL = ["Óµ", "Ó§", "ÓŸ", "Ó¥", "Ó"];
      const RUSSIAN_FILL = "Ğ°Ğ±Ğ²Ğ³Ğ´ĞµÑ‘Ğ¶Ğ·Ğ¸Ğ¹ĞºĞ»Ğ¼Ğ½Ğ¾Ğ¿Ñ€ÑÑ‚ÑƒÑ„Ñ…Ñ†Ñ‡ÑˆÑ‰ÑŠÑ‹ÑŒÑÑÑ".split("");
      const FILL_CHARS = [
        ...RUSSIAN_FILL,
        ...RUSSIAN_FILL,
        ...RUSSIAN_FILL,
        ...UDMURT_FILL,
      ];

      const GRID_SIZE = 10;
      const COLORS = [
        "#b5451b",
        "#1b7b45",
        "#1b5fa8",
        "#7b2b8e",
        "#b5670a",
        "#0a7b6e",
        "#6e1b1b",
        "#2b5c1b",
        "#1b3b7b",
        "#5c0a6e",
      ];

      // â”€â”€ Ğ³Ğ»Ğ¾Ğ±Ğ°Ğ»ÑŒĞ½Ğ¾Ğµ ÑĞ¾ÑÑ‚Ğ¾ÑĞ½Ğ¸Ğµ â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€
      let grid = []; // grid[row][col] = { letter, wordId, found }
      let placedWords = []; // [{word, translation, cells:[{r,c}], colorIdx}]
      let foundCount = 0;
      let firstClick = null;
      let colorCounter = 0;

      // â”€â”€ Ğ³ĞµĞ½ĞµÑ€Ğ°Ñ†Ğ¸Ñ ÑĞµÑ‚ĞºĞ¸ â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€
      function initGame() {
        grid = Array.from({ length: GRID_SIZE }, () =>
          Array.from({ length: GRID_SIZE }, () => ({
            letter: "",
            wordId: -1,
            found: false,
          })),
        );
        placedWords = [];
        foundCount = 0;
        firstClick = null;
        colorCounter = 0;

        const words = Object.keys(DICT);
        // ÑĞ¾Ñ€Ñ‚Ğ¸Ñ€ÑƒĞµĞ¼ Ğ¿Ğ¾ ÑƒĞ±Ñ‹Ğ²Ğ°Ğ½Ğ¸Ñ Ğ´Ğ»Ğ¸Ğ½Ñ‹ â€” Ğ´Ğ»Ğ¸Ğ½Ğ½Ñ‹Ğµ ÑĞ½Ğ°Ñ‡Ğ°Ğ»Ğ°
        const sorted = [...words].sort((a, b) => b.length - a.length);
        const DIRS = [
          [0, 1],
          [0, -1],
          [1, 0],
          [-1, 0],
        ];

        for (const word of sorted) {
          let placed = false;
          const shuffledDirs = shuffle([...DIRS]);
          for (let attempt = 0; attempt < 120 && !placed; attempt++) {
            const dir = shuffledDirs[attempt % 4];
            const [dr, dc] = dir;
            const len = [...word].length; // Ğ¿Ñ€Ğ°Ğ²Ğ¸Ğ»ÑŒĞ½Ñ‹Ğ¹ Ğ¿Ğ¾Ğ´ÑÑ‡Ñ‘Ñ‚ Ğ´Ğ»Ñ Unicode
            const letters = [...word];

            // Ğ²Ñ‹Ñ‡Ğ¸ÑĞ»Ğ¸Ñ‚ÑŒ Ğ´Ğ¾Ğ¿ÑƒÑÑ‚Ğ¸Ğ¼Ñ‹Ğµ ÑÑ‚Ğ°Ñ€Ñ‚Ğ¾Ğ²Ñ‹Ğµ Ğ¿Ğ¾Ğ·Ğ¸Ñ†Ğ¸Ğ¸
            const rMin = dr > 0 ? 0 : dr < 0 ? len - 1 : 0;
            const rMax =
              dr > 0 ? GRID_SIZE - len : dr < 0 ? GRID_SIZE - 1 : GRID_SIZE - 1;
            const cMin = dc > 0 ? 0 : dc < 0 ? len - 1 : 0;
            const cMax =
              dc > 0 ? GRID_SIZE - len : dc < 0 ? GRID_SIZE - 1 : GRID_SIZE - 1;

            if (rMin > rMax || cMin > cMax) continue;

            const r0 = rMin + Math.floor(Math.random() * (rMax - rMin + 1));
            const c0 = cMin + Math.floor(Math.random() * (cMax - cMin + 1));

            // Ğ¿Ñ€Ğ¾Ğ²ĞµÑ€ÑĞµĞ¼ Ğ½Ğ°Ğ»Ğ¾Ğ¶ĞµĞ½Ğ¸Ğµ
            let ok = true;
            const cells = [];
            for (let i = 0; i < len; i++) {
              const r = r0 + dr * i;
              const c = c0 + dc * i;
              const existing = grid[r][c].letter;
              if (existing !== "") {
                ok = false;
                break;
              }
              cells.push({ r, c });
            }

            if (ok) {
              const wordId = placedWords.length;
              const ci = colorCounter % COLORS.length;
              colorCounter++;
              placedWords.push({
                word,
                translation: DICT[word],
                cells,
                colorIdx: ci,
                found: false,
              });
              for (let i = 0; i < len; i++) {
                const { r, c } = cells[i];
                grid[r][c].letter = letters[i];
                if (grid[r][c].wordId === -1) grid[r][c].wordId = wordId;
                // ĞºĞ»ĞµÑ‚ĞºĞ° Ğ¼Ğ¾Ğ¶ĞµÑ‚ Ğ¿Ñ€Ğ¸Ğ½Ğ°Ğ´Ğ»ĞµĞ¶Ğ°Ñ‚ÑŒ Ğ½ĞµÑĞºĞ¾Ğ»ÑŒĞºĞ¸Ğ¼ ÑĞ»Ğ¾Ğ²Ğ°Ğ¼ â€” Ñ…Ñ€Ğ°Ğ½Ğ¸Ğ¼ Ğ¼Ğ°ÑÑĞ¸Ğ²
                if (!grid[r][c].wordIds) grid[r][c].wordIds = [];
                grid[r][c].wordIds.push(wordId);
              }
              placed = true;
            }
          }
          // ĞµÑĞ»Ğ¸ Ğ½Ğµ ÑƒĞ´Ğ°Ğ»Ğ¾ÑÑŒ Ğ¿Ğ¾Ğ¼ĞµÑÑ‚Ğ¸Ñ‚ÑŒ â€” Ğ¿Ñ€Ğ¾Ğ¿ÑƒÑĞºĞ°ĞµĞ¼ ÑĞ»Ğ¾Ğ²Ğ¾
        }

        // Ğ·Ğ°Ğ¿Ğ¾Ğ»Ğ½ÑĞµĞ¼ Ğ¿ÑƒÑÑ‚Ñ‹Ğµ ĞºĞ»ĞµÑ‚ĞºĞ¸
        for (let r = 0; r < GRID_SIZE; r++) {
          for (let c = 0; c < GRID_SIZE; c++) {
            if (!grid[r][c].letter) {
              grid[r][c].letter =
                FILL_CHARS[Math.floor(Math.random() * FILL_CHARS.length)];
            }
            if (!grid[r][c].wordIds) grid[r][c].wordIds = [];
          }
        }

        renderGrid();
        updateSidebar();
      }

      function shuffle(arr) {
        for (let i = arr.length - 1; i > 0; i--) {
          const j = Math.floor(Math.random() * (i + 1));
          [arr[i], arr[j]] = [arr[j], arr[i]];
        }
        return arr;
      }

      // â”€â”€ Ñ€ĞµĞ½Ğ´ĞµÑ€ ÑĞµÑ‚ĞºĞ¸ â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€
      function renderGrid() {
        const container = document.getElementById("grid");
        container.innerHTML = "";
        for (let r = 0; r < GRID_SIZE; r++) {
          for (let c = 0; c < GRID_SIZE; c++) {
            const cell = document.createElement("div");
            cell.className = "cell";
            cell.textContent = grid[r][c].letter;
            cell.dataset.r = r;
            cell.dataset.c = c;
            cell.addEventListener("click", onCellClick);
            container.appendChild(cell);
          }
        }
      }

      function getCellEl(r, c) {
        return document.querySelector(`.cell[data-r="${r}"][data-c="${c}"]`);
      }

      // â”€â”€ Ğ¾Ğ±Ñ€Ğ°Ğ±Ğ¾Ñ‚ĞºĞ° ĞºĞ»Ğ¸ĞºĞ¾Ğ² â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€
      function onCellClick(e) {
        const r = parseInt(e.currentTarget.dataset.r);
        const c = parseInt(e.currentTarget.dataset.c);

        if (!firstClick) {
          // Ğ¿ĞµÑ€Ğ²Ñ‹Ğ¹ ĞºĞ»Ğ¸Ğº
          firstClick = { r, c };
          const el = getCellEl(r, c);
          el.classList.add("selected-first");
        } else {
          // Ğ²Ñ‚Ğ¾Ñ€Ğ¾Ğ¹ ĞºĞ»Ğ¸Ğº
          const r1 = firstClick.r,
            c1 = firstClick.c;
          const r2 = r,
            c2 = c;

          // ÑĞ½Ğ¸Ğ¼Ğ°ĞµĞ¼ Ğ²Ñ‹Ğ´ĞµĞ»ĞµĞ½Ğ¸Ğµ Ğ¿ĞµÑ€Ğ²Ğ¾Ğ³Ğ¾
          getCellEl(r1, c1).classList.remove("selected-first");
          firstClick = null;

          // Ğ¾Ğ¿Ñ€ĞµĞ´ĞµĞ»ÑĞµĞ¼ Ğ½Ğ°Ğ¿Ñ€Ğ°Ğ²Ğ»ĞµĞ½Ğ¸Ğµ
          let cells = null;
          if (r1 === r2 && c1 !== c2) {
            // Ğ³Ğ¾Ñ€Ğ¸Ğ·Ğ¾Ğ½Ñ‚Ğ°Ğ»ÑŒ
            const step = c2 > c1 ? 1 : -1;
            cells = [];
            for (let col = c1; col !== c2 + step; col += step)
              cells.push({ r: r1, c: col });
          } else if (c1 === c2 && r1 !== r2) {
            // Ğ²ĞµÑ€Ñ‚Ğ¸ĞºĞ°Ğ»ÑŒ
            const step = r2 > r1 ? 1 : -1;
            cells = [];
            for (let row = r1; row !== r2 + step; row += step)
              cells.push({ r: row, c: c1 });
          } else if (r1 === r2 && c1 === c2) {
            // Ğ¾Ğ´Ğ½Ğ° Ğ¸ Ñ‚Ğ° Ğ¶Ğµ ĞºĞ»ĞµÑ‚ĞºĞ° â€” ÑĞ±Ñ€Ğ°ÑÑ‹Ğ²Ğ°ĞµĞ¼
            return;
          } else {
            // Ğ´Ğ¸Ğ°Ğ³Ğ¾Ğ½Ğ°Ğ»ÑŒ â€” Ğ½Ğµ Ğ¿Ğ¾Ğ´Ğ´ĞµÑ€Ğ¶Ğ¸Ğ²Ğ°ĞµÑ‚ÑÑ, Ğ½Ğ¸Ñ‡ĞµĞ³Ğ¾ Ğ½Ğµ Ğ´ĞµĞ»Ğ°ĞµĞ¼
            return;
          }

          const word = cells.map(({ r, c }) => grid[r][c].letter).join("");
          checkWord(word, cells);
        }
      }

      // â”€â”€ Ğ¿Ñ€Ğ¾Ğ²ĞµÑ€ĞºĞ° ÑĞ»Ğ¾Ğ²Ğ° â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€
      function checkWord(word, cells) {
        // Ğ¸Ñ‰ĞµĞ¼ ÑĞ»Ğ¾Ğ²Ğ¾ ÑÑ€ĞµĞ´Ğ¸ Ñ€Ğ°Ğ·Ğ¼ĞµÑ‰Ñ‘Ğ½Ğ½Ñ‹Ñ… (ĞµÑ‰Ñ‘ Ğ½Ğµ Ğ½Ğ°Ğ¹Ğ´ĞµĞ½Ğ½Ñ‹Ñ…)
        for (let i = 0; i < placedWords.length; i++) {
          const pw = placedWords[i];
          if (pw.found) continue;
          if (pw.word === word) {
            // ÑĞ¾Ğ²Ğ¿Ğ°Ğ´ĞµĞ½Ğ¸Ğµ!
            pw.found = true;
            foundCount++;
            highlightFoundWord(pw, cells);
            addFoundToSidebar(pw);
            updateProgress();
            return;
          }
        }
        // Ğ½Ğµ Ğ½Ğ°ÑˆĞ»Ğ¸ â€” ĞºÑ€Ğ°Ñ‚ĞºĞ¾ Ğ¼Ğ¸Ğ³Ğ°ĞµĞ¼ ĞºÑ€Ğ°ÑĞ½Ñ‹Ğ¼
        cells.forEach(({ r, c }) => {
          const el = getCellEl(r, c);
          el.classList.add("highlighted");
        });
        setTimeout(() => {
          cells.forEach(({ r, c }) => {
            const el = getCellEl(r, c);
            el.classList.remove("highlighted");
          });
        }, 400);
      }

      function highlightFoundWord(pw, _cells) {
        const color = COLORS[pw.colorIdx];
        pw.cells.forEach(({ r, c }) => {
          const el = getCellEl(r, c);
          el.classList.remove("selected-first", "highlighted");
          el.classList.add("found");
          el.style.background = color;
        });
      }

      // â”€â”€ Ğ±Ğ¾ĞºĞ¾Ğ²Ğ°Ñ Ğ¿Ğ°Ğ½ĞµĞ»ÑŒ â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€
      function addFoundToSidebar(pw) {
        const list = document.getElementById("found-list");
        const item = document.createElement("div");
        item.className = "found-word";
        item.style.background = COLORS[pw.colorIdx] + "33";
        item.style.borderLeft = `3px solid ${COLORS[pw.colorIdx]}`;
        item.innerHTML = `<span class="udmurt" style="color:${COLORS[pw.colorIdx]}">${pw.word}</span>
    <span class="arrow">â†’</span>
    <span class="russian">${pw.translation}</span>`;
        list.appendChild(item);
      }

      function updateSidebar() {
        document.getElementById("found-list").innerHTML = "";
        updateProgress();
      }

      function updateProgress() {
        const total = placedWords.length;
        const pct = total === 0 ? 0 : Math.round((foundCount / total) * 100);
        document.getElementById("progress-bar").style.width = pct + "%";
        document.getElementById("progress-text").textContent =
          `${foundCount} / ${total}`;
        if (foundCount === total && total > 0) {
          document.getElementById("win-banner").style.display = "block";
        }
      }

      // â”€â”€ Ğ·Ğ°Ğ¿ÑƒÑĞº â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€
      document.getElementById("restart-btn").addEventListener("click", () => {
        document.getElementById("win-banner").style.display = "none";
        initGame();
      });

      initGame();
    </script>
    <a href="https://udmcorpus.udman.ru/dictionary" class="footer-link"
      >ÑĞ»Ğ¾Ğ²Ğ°Ñ€ÑŒ</a
    >
  </body>
</html>
